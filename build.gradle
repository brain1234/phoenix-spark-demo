group 'zg'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'scala'
sourceSets.main.scala.srcDir "src/main/java"
sourceSets.main.java.srcDirs = []

sourceCompatibility = 1.8

repositories {
    maven { url "http://hadoop03:8081/nexus/content/repositories/thirdparty"}
    maven { url "http://maven.aliyun.com/nexus/content/groups/public" }
//    maven { url "http://mvnrepository.com" }
    maven { url "https://repository.cloudera.com/artifactory/cloudera-repos/" }
//    maven { url "http://repo2.maven.org/maven2/" }
//    maven { url "https://search.maven.org" }
}

dependencies {
    compile "org.apache.spark:spark-core_2.11:2.2.0"
    compile "org.apache.spark:spark-sql_2.11:2.2.0"
    compile "org.apache.spark:spark-hive_2.11:2.2.0"
    compile "com.typesafe:config:1.3.1"

    compile "org.apache.phoenix:phoenix-spark:4.14.0-cdh5.14.2"
}

compileJava.options.encoding = 'UTF-8'
compileScala.options.encoding = 'UTF-8'

task copyToLib(type: Copy) {
    into "$buildDir/libs/lib"
    from configurations.runtime
}

jar { dependsOn copyToLib }
